<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <link href="CSS/style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" type="image/x-icon" href="images/politico.ico"/>

    <head>
        <title>Presidentes</title>
        <meta charset="UTF-8"/>
        <meta name='language' content='ES'/>
    </head>

    <body>


        <h:form rendered="#{(usuarioBean.verificarSesion())}" >
            <div class="welcome-card" >
                <h1>Bienvenido usuario: #{usuarioBean.usuario.nombreUsuario}
                    <h:commandButton class="btn-close" value="Cerrar sesión" action="#{usuarioBean.cerrarSesion()}"/>
                    <h:commandButton class="btn-close" value="Partidos" action="#{usuarioBean.navegaPartido()}"/>
                </h1>


            </div>
        </h:form>



        <h:panelGroup rendered="#{!presidenteBean.edit and (usuarioBean.verificarSesion())}">
            <div class="card">
                <h2>Agregar presidente</h2>
                <h:form>
                    <p>Nombre: 
                        <h:inputText value="#{presidenteBean.item.nombre}" />
                    </p>
                    <p>Edad: 
                        <h:inputText value="#{presidenteBean.item.edad}" />
                    </p>
                    <p>Calidad de gobierno: 
                        <h:inputText value="#{presidenteBean.item.calidadGobierno}" />
                    </p>
                    <p>¿Es Dios? 
                        <h:inputText value="#{presidenteBean.item.esDios}" />
                    </p>
                    <p>Puesto robado: 
                        <h:inputText value="#{presidenteBean.item.puestoRobado}" />
                    </p>
                    <p>Partido: 
                        <h:inputText value="#{presidenteBean.item.partido}" />
                    </p>
                    <p>
                        <h:commandButton class="btn" value="Agregar" action="#{presidenteBean.add}" />

                        <h:commandButton class="btn-right" value="Limpiar" action="#{presidenteBean.resetAdd}" />
                    </p>
                </h:form>
            </div>
        </h:panelGroup>



        <h:panelGroup rendered="#{presidenteBean.edit and (usuarioBean.verificarSesion())}">
            <div class="card">
                <h2>Editar presidente #{bean.item.id}</h2>
                <h:form>
                    <p>Nombre: 
                        <h:inputText value="#{presidenteBean.item.nombre}" />
                    </p>
                    <p>Edad: 
                        <h:inputText value="#{presidenteBean.item.edad}" />
                    </p>
                    <p>Calidad de gobierno: 
                        <h:inputText value="#{presidenteBean.item.calidadGobierno}" />
                    </p>
                    <p>¿Es Dios? 
                        <h:inputText value="#{presidenteBean.item.esDios}" />
                    </p>
                    <p>Puesto robado: 
                        <h:inputText value="#{presidenteBean.item.puestoRobado}" />
                    </p>
                    <p>Partido: 
                        <h:inputText value="#{presidenteBean.item.partidoId}" />
                    </p>
                    <p>
                        <h:commandButton class="btn" value="Guardar" action="#{presidenteBean.saveEdit}" />
                        <h:commandButton class="btn-right" value="Cancelar" action="#{presidenteBean.cancelEdit}" />
                    </p>
                </h:form>
            </div>
        </h:panelGroup>
        <h:form rendered="#{not empty presidenteBean.presidentes and (usuarioBean.verificarSesion())}">
            <div class="new-table">
                <h1>Presidentes</h1>
                <h:dataTable value="#{presidenteBean.presidentes}" var="presidente">
                    <h:column>
                        <f:facet name="header">ID</f:facet>#{presidente.id}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Nombre</f:facet>#{presidente.nombre}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Calidad de gobierno</f:facet>#{presidente.calidadGobierno}
                    </h:column>
                    <h:column>
                        <f:facet name="header">¿Es Dios?</f:facet>#{presidente.esDios}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Puesto robado</f:facet>#{presidente.puestoRobado}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Partido</f:facet>#{presidente.partido}
                    </h:column>
                    <h:column>
                        <h:commandButton class="btn" value="Editar" action="#{presidenteBean.edit(presidente)}" />
                    </h:column>
                    <h:column>
                        <h:commandButton class="btn" value="Eliminar" action="#{presidenteBean.delete(presidente)}" />
                    </h:column>
                </h:dataTable>
            </div>
        </h:form>

        <h:panelGroup rendered="#{empty presidenteBean.presidentes and (usuarioBean.verificarSesion())}">
            <p>No hay presidentes, por favor agrega mas presidentes.</p>
        </h:panelGroup>

    </body>

</html>